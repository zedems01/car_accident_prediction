<!-- templates/index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Form</title>
</head>
<body>
    <h1>Enter features for House Price Prediction</h1>
    <form action="/predict" method="post">
        <label for="feature1">Median Income</label>
        <input type="number" id="feature1" name="feature1" step="any" required><br><br>

        <label for="feature2">House Age:</label>
        <input type="number" id="feature2" name="feature2" step="any" required><br><br>

        <label for="feature3">Avg. Rooms</label>
        <input type="number" id="feature3" name="feature3" step="any" required><br><br>

        <label for="feature4">Avg. Bedrooms</label>
        <input type="number" id="feature4" name="feature4" step="any" required><br><br>

        <label for="feature5">Population</label>
        <input type="number" id="feature5" name="feature5" step="any" required><br><br>

        <label for="feature6">Avg. Occupants</label>
        <input type="number" id="feature6" name="feature6" step="any" required><br><br>

        <label for="feature7">Latitude</label>
        <input type="number" id="feature7" name="feature7" step="any" required><br><br>

        <label for="feature8">Longitude</label>
        <input type="number" id="feature8" name="feature8" step="any" required><br><br>

        <button type="submit">Submit</button>
    </form>
</body>
</html> -->



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Form</title>
</head>
<body>
    <h1>Enter features for House Price Prediction</h1>
    <form id="prediction-form">
        <label for="feature1">Median Income:</label>
        <input type="number" id="feature1" name="feature1" step="any" required><br><br>

        <label for="feature2">House Age:</label>
        <input type="number" id="feature2" name="feature2" step="any" required><br><br>

        <label for="feature3">Avg. Rooms:</label>
        <input type="number" id="feature3" name="feature3" step="any" required><br><br>

        <label for="feature4">Avg. Bedrooms:</label>
        <input type="number" id="feature4" name="feature4" step="any" required><br><br>

        <label for="feature5">Population:</label>
        <input type="number" id="feature5" name="feature5" step="any" required><br><br>

        <label for="feature6">Avg. Occupants:</label>
        <input type="number" id="feature6" name="feature6" step="any" required><br><br>

        <label for="feature7">Latitude:</label>
        <input type="number" id="feature7" name="feature7" step="any" required><br><br>

        <label for="feature8">Longitude:</label>
        <input type="number" id="feature8" name="feature8" step="any" required><br><br>

        <button type="submit">Submit</button>
    </form>

    <!-- Section pour afficher la prédiction -->
    <div id="prediction-result" style="margin-top: 20px;">
        <h3>Prediction:</h3>
        <input type="text" id="prediction-output" readonly>
    </div>

    <script>
        document.getElementById("prediction-form").addEventListener("submit", async function(event) {
            event.preventDefault();  // Empêche le rechargement de la page

            // Récupère les valeurs des champs de formulaire
            const feature1 = document.getElementById("feature1").value;
            const feature2 = document.getElementById("feature2").value;
            const feature3 = document.getElementById("feature3").value;
            const feature4 = document.getElementById("feature4").value;
            const feature5 = document.getElementById("feature5").value;
            const feature6 = document.getElementById("feature6").value;
            const feature7 = document.getElementById("feature7").value;
            const feature8 = document.getElementById("feature8").value;

            // Envoie la requête POST avec fetch
            const response = await fetch("/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    feature1: parseFloat(feature1),
                    feature2: parseFloat(feature2),
                    feature3: parseFloat(feature3),
                    feature4: parseFloat(feature4),
                    feature5: parseFloat(feature5),
                    feature6: parseFloat(feature6),
                    feature7: parseFloat(feature7),
                    feature8: parseFloat(feature8)
                })
            });

            // Extrait la prédiction de la réponse JSON
            const result = await response.json();
            document.getElementById("prediction-output").value = result.prediction;
        });
    </script>
</body>
</html>

